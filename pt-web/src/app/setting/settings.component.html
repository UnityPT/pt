<!--<mat-nav-list>-->
<!--  <a mat-list-item href="..." *ngFor="let link of links" [activated]="link.isActive">{{ link }}</a>-->
<!--</mat-nav-list>-->
<mat-action-list id="left">
  <a href="#qBittorrent" mat-list-item>qBittorrent</a>
  <a href="#remote" mat-list-item>远程文件传输</a>
  <a href="#account" mat-list-item>账号</a>
</mat-action-list>
<div id="right">
  <div id="container">
    <h2 id="qBittorrent">qBittorrent WebUI 设置</h2>
    <mat-card>
      <mat-card-content>
        <form>
          <mat-form-field appearance="outline">
            <mat-label>qBittorrent WebUI 地址</mat-label>
            <input matInput [(ngModel)]="settings.config.qBittorrent.qb_url" name="qb_url" />
            <mat-hint>
              <ng-container *ngIf="isWeb; else qbUrlHint">
                网页受浏览器限制，只能连接 HTTPS 的 qB。若不想用 HTTPS 请下载 UnityPT 客户端。
              </ng-container>
              <ng-template #qbUrlHint>请安装 qBittorrent 并启用 WebUI，然后在这里填写地址。</ng-template>
            </mat-hint>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>qBittorrent WebUI 用户名</mat-label>
            <input matInput [(ngModel)]="settings.config.qBittorrent.username" name="username" />
            <mat-hint>qBittorrent WebUI 的用户名，默认为 admin，如果勾选了跳过身份验证请留空</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>qBittorrent WebUI 密码</mat-label>
            <input matInput [(ngModel)]="settings.config.qBittorrent.password" name="password" />
            <mat-hint>qBittorrent WebUI 的密码，默认为 adminadmin，如果勾选了跳过身份验证请留空</mat-hint>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>下载路径</mat-label>
            <input matInput [(ngModel)]="settings.config.qBittorrent.save_path" name="save_path" />
            <mat-hint>若留空，使用 qBittorrent 自动种子管理</mat-hint>
          </mat-form-field>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <app-test-connection [promise]="testQBittorrent"></app-test-connection>
        <button mat-raised-button color="primary" (click)="saveQBittorrent()">确定</button>
      </mat-card-actions>
    </mat-card>

    <h2 id="remote">远程文件传输</h2>
    <mat-card>
      <mat-card-content>
        <form>
          <mat-form-field appearance="outline">
            <mat-label>传输协议</mat-label>
            <mat-select [(ngModel)]="settings.config.remote.protocol" name="protocol">
              <mat-option value="local">不需要文件传输 (qBittorrent 就在本机)</mat-option>
              <mat-option value="http">WebDAV</mat-option>
              <!--            <mat-option value='smb'>SMB (Windows 共享)</mat-option>-->
              <!--            <mat-option value='sftp'>SFTP</mat-option>-->
            </mat-select>
            <mat-hint>服务器搭建教程: <a target="_blank" href="#">https://xxxx</a></mat-hint>
          </mat-form-field>
          <ng-container [ngSwitch]="settings.config.remote.protocol">
            <ng-container *ngSwitchCase="'http'">
              <mat-form-field appearance="outline">
                <mat-label>WebDAV 地址</mat-label>
                <input matInput [(ngModel)]="r.remotePath" name="remotePath" placeholder="https://example.com/folder" />
                <mat-hint>WebDAV 服务器地址，必须使用 HTTPS 协议且配置了有效的证书</mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>用户名</mat-label>
                <input matInput [(ngModel)]="r.username" name="username" />
                <mat-hint>如果不需要认证请留空</mat-hint>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label>密码</mat-label>
                <input matInput [(ngModel)]="r.password" name="password" />
                <mat-hint>如果不需要认证请留空</mat-hint>
              </mat-form-field>
            </ng-container>
          </ng-container>
        </form>
      </mat-card-content>
      <mat-card-actions>
        <app-test-connection [promise]="testRemote"></app-test-connection>
        <button mat-raised-button color="primary" (click)="saveRemote()">确定</button>
      </mat-card-actions>
    </mat-card>
    <h2 id="account">账号</h2>
  </div>
</div>

<!--&lt;!&ndash;<img src="assets/logo.webp">&ndash;&gt;-->

<!--<div class="bgc mat-elevation-z3">-->
<!--  &lt;!&ndash;  <mat-card-content>&ndash;&gt;-->
<!--  <form #settingForm="ngForm" (ngSubmit)="submit()">-->
<!--    <h2>设置</h2>-->
<!--    <div class="title-right">-->
<!--      <hr class="hr-solid" />-->
<!--    </div>-->
<!--    <div class="row">-->
<!--      <div class="lab">qb方式</div>-->
<!--      <mat-radio-group [(ngModel)]="settings.config.qBittorrent.qb_location" name="qb_location" required>-->
<!--        <mat-radio-button color="primary" value="local">本地</mat-radio-button>-->
<!--        <mat-radio-button color="primary" value="remote">远程</mat-radio-button>-->
<!--      </mat-radio-group>-->
<!--    </div>-->
<!--    <div class="row">-->
<!--      <div class="lab">qb地址</div>-->
<!--      <input class="inputs" name="qb_url" [(ngModel)]="settings.config.qBittorrent.qb_url" />-->
<!--      &lt;!&ndash;      <mat-error *ngIf='qb_url_err==true'>qb方式与地址不符</mat-error>&ndash;&gt;-->
<!--      <mat-hint>填写qbittorrent WebUI中的地址，以http://开头，本地qbittorrent为http://localhost:8080，远程qb请自行填写 </mat-hint>-->
<!--    </div>-->
<!--    <div class="row">-->
<!--      <div class="lab">用户名</div>-->
<!--      <input class="inputs" name="username" [(ngModel)]="settings.config.qBittorrent.username" />-->
<!--      <mat-hint>填写qbittorrent WebUI中的用户名，如果您没有手动修改过应该是admin，可以同时修改两者但必须保持一致 </mat-hint>-->
<!--    </div>-->
<!--    <div class="row">-->
<!--      <div class="lab">密码</div>-->
<!--      <input class="inputs" name="password" type="password" [(ngModel)]="settings.config.qBittorrent.password" />-->
<!--      <mat-hint>填写qbittorrent WebUI中的密码，如果您没有手动修改过应该是adminadmin，可以同时修改两者但必须保持一致 </mat-hint>-->
<!--    </div>-->

<!--    <div class="row">-->
<!--      <div class="lab">保存目录</div>-->
<!--      <input class="inputs" name="save_path" [(ngModel)]="settings.config.qBittorrent.save_path" />-->
<!--      <mat-hint>填写qbittorrent WebUI中的默认保存路径，注意如果是winOS路径需要使用"\"，可以同时修改两者但必须保持一致 </mat-hint>-->
<!--    </div>-->

<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote'">-->
<!--      <div class="lab" id="protocol_label">传输协议</div>-->
<!--      <mat-radio-group [(ngModel)]="settings.config.remote.protocol" name="protocol" required>-->
<!--        <mat-radio-button color="primary" value="sftp">sftp</mat-radio-button>-->
<!--        <mat-radio-button color="primary" value="smb">smb</mat-radio-button>-->
<!--        <mat-radio-button color="primary" value="webdav">webdav</mat-radio-button>-->
<!--      </mat-radio-group>-->
<!--    </div>-->

<!--    <div class="row" *ngIf="(settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'webdav') || settings.config.remote.protocol == 'sftp'">-->
<!--      <div class="lab">本地保存目录</div>-->
<!--      <input class="inputs" name="local_path" [(ngModel)]="settings.config.qBittorrent.local_path" />-->
<!--      <mat-hint>填写本地保存资源文件的路径，注意如果是winOS路径需要使用"\"</mat-hint>-->
<!--    </div>-->

<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'sftp'">-->
<!--      <div class="lab" id="auth_label">ssh认证方式</div>-->
<!--      <mat-radio-group [(ngModel)]="r.auth" name="ssh_auth" required>-->
<!--        <mat-radio-button color="primary" value="password">密码</mat-radio-button>-->
<!--        <mat-radio-button color="primary" value="key">私钥</mat-radio-button>-->
<!--      </mat-radio-group>-->
<!--    </div>-->

<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'sftp'">-->
<!--      <div class="lab">ssh用户名</div>-->
<!--      <input class="inputs" name="ssh_username" [(ngModel)]="settings.config.remote.username" />-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'sftp'">-->
<!--      <div class="lab">远端保存目录</div>-->
<!--      <input class="inputs" name="remote_path" [(ngModel)]="settings.config.remote.remotePath" />-->
<!--      <mat-hint>填写ssh server和远端保存资源的绝对目录，例如 0.0.0.1:22:/data/exampleDir，其中的端口号可以省略，默认为22 </mat-hint>-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'sftp' && settings.config.remote.auth == 'password'">-->
<!--      <div class="lab">ssh密码</div>-->
<!--      <input class="inputs" type="password" name="ssh_password" [(ngModel)]="settings.config.remote.username" />-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'sftp' && settings.config.remote.auth == 'key'">-->
<!--      <div class="lab">私钥路径</div>-->
<!--      <input class="inputs" name="private_key" [(ngModel)]="r.privateKeyPath" />-->
<!--      <mat-hint>访问ssh所需私钥的绝对路径</mat-hint>-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'webdav'">-->
<!--      <div class="lab">用户名</div>-->
<!--      <input class="inputs" name="webdav_username" [(ngModel)]="settings.config.remote.username" />-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'webdav'">-->
<!--      <div class="lab">密码</div>-->
<!--      <input class="inputs" type="password" name="webdav_password" [(ngModel)]="r.password" />-->
<!--    </div>-->
<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'webdav'">-->
<!--      <div class="lab">远端保存目录</div> -->
<!--      <input class="inputs" name="webdav_remote_path" [(ngModel)]="settings.config.remote.remotePath" />-->
<!--      <mat-hint>webdav的远端路径，例如http://0.0.0.1:7000</mat-hint>-->
<!--    </div>-->

<!--    <div class="row" *ngIf="settings.config.qBittorrent.qb_location == 'remote' && settings.config.remote.protocol == 'smb'">-->
<!--      <div class="lab">smb路径</div>-->
<!--      <input class="inputs" name="smb_remote_path" [(ngModel)]="settings.config.remote.remotePath" />-->
<!--      <mat-hint>winOS填写格式为 \\sever\shared， macOS填写格式为smb://server/shared</mat-hint>-->
<!--    </div>-->
<!--    <div class="btn">-->
<!--      <button mat-raised-button color="primary" type="button" (click)="connectTest()">连接测试</button>-->
<!--      <button mat-raised-button color="primary" [disabled]="!settingForm.form.valid">确定</button>-->
<!--    </div>-->
<!--  </form>-->
<!--  &lt;!&ndash;  </mat-card-content>&ndash;&gt;-->
<!--</div>-->
